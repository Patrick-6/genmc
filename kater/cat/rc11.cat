// Standard preamble: various combinations that are invalid

assume [W] ; [R] = 0
assume [F] ; [R] = 0
assume [F] ; [W] = 0
assume [F] ; mo_imm = 0
assume [F] ; rf = 0
assume [F] ; rf_inv = 0
assume mo_imm ; [F] = 0
assume rf ; [F] = 0
assume rf_inv ; [F] = 0
assume [REL] ; [SC] = 0
assume [ACQ] ; [SC] = 0

// Definition of standard relations
let po = po_imm+
let mo = mo_imm+
let fr = rf_inv ; mo

// Synchronizes-with relation
//let sw = [REL|SC] ; ([F] ; po)? ; (rf ; rmw)* ; rf ; (po ; [F])? ; [ACQ|SC]

// Happens-before
let hb = (po | sw)+

// Extended coherence order 
let eco = (rf | mo | fr)+

// Sequential consistency order 
let FSC = [F] ; [SC]
let fhb = [F] ; hb
let hbf = hb ; [F]
let scb = po | rf | mo | fr
let psc = [SC] ; po ; hb ; po ; [SC]
        | [SC] ; fhb? ; scb ; hbf? ; [SC]
        | FSC ; hb ; FSC
        | FSC ; hb ; eco ; hb ; FSC
acyclic psc
